import*as THREE from"three";import{OrbitControls}from"three/addons/controls/OrbitControls.js";import{GLTFLoader}from"three/addons/loaders/GLTFLoader.js";const container=document.getElementById("container-block-three"),mainCanv=document.getElementById("test"),loaderPageModel=document.getElementById("model-loader");let linkBuild="";linkBuild="http://localhost:3000/"===window.location.href?"../../models/scene.gltf":"https://danilnefedov.github.io/Pronia/"===window.location.href?"../Pronia/models/scene.gltf":"../../models/scene.gltf";let width=mainCanv.offsetWidth,height=window.innerWidth>1700?1022:container.clientHeight;const scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(75,height/width,.1,100),renderer=new THREE.WebGLRenderer({alpha:!0});let model;renderer.setSize(width,height),mainCanv.appendChild(renderer.domElement),renderer.setClearColor(0,0),camera.position.set(.6,.4,.6);const loader=new GLTFLoader;loader.load(`${linkBuild}`,(function(e){loaderPageModel.style.display="none",model=e.scene.children[0],model.position.set(0,-.2,0),camera.aspect=width/height,camera.updateProjectionMatrix(),scene.add(model),renderer.render(scene,camera),animate()}),void 0,(function(e){console.error(e)}));const spotLight=new THREE.SpotLight(1872147,1);spotLight.castShadow=!0,spotLight.shadow.bias=-1e-5,spotLight.shadow.mapSize.width=4096,spotLight.shadow.mapSize.height=4096,scene.add(spotLight);const hemiLight=new THREE.HemisphereLight(16772785,526368,1);scene.add(hemiLight);const light=new THREE.HemisphereLight(16777215,16777215,1);function onWindowResize(){window.innerWidth<1700?window.innerWidth<1050?(width=container.clientWidth,height=522,camera.aspect=width/height,camera.updateProjectionMatrix(),renderer.setSize(width,height)):(width=mainCanv.offsetWidth,height=container.clientHeight,camera.aspect=width/height,camera.updateProjectionMatrix(),renderer.setSize(width,height)):window.innerWidth>1700&&(height=1022,camera.aspect=width/height,camera.updateProjectionMatrix(),renderer.setSize(width,height))}light.position.set(-5,0,0),scene.add(light),window.addEventListener("resize",onWindowResize,!1);const controls=new OrbitControls(camera,renderer.domElement);function animate(){requestAnimationFrame(animate),model.rotation.z+=.001,renderer.render(scene,camera)}controls.autoRotate=!0,controls.autoRotateSpeed=5,controls.enableDamping=!0;